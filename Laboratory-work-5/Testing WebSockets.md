## Тестування WebSockets
| ID |
|:-:|
| WSTG-CLNT-10 |

### Короткий опис

Традиційно протокол HTTP дозволяє лише один запит/відповідь на TCP-з’єднання. Асинхронні JavaScript і XML (AJAX) дозволяють клієнтам асинхронно надсилати й отримувати дані (у фоновому режимі без оновлення сторінки) на сервер, однак AJAX вимагає від клієнта ініціювати запити та чекати відповідей сервера (напівдуплекс).

[WebSockets](https://websockets.spec.whatwg.org/#network) дозволяють клієнту або серверу створювати «повнодуплексний» (двосторонній) канал зв’язку, дозволяючи клієнту та серверу дійсно спілкуватися асинхронно. WebSockets здійснюють своє початкове рукостискання оновлення через HTTP, і відтоді весь зв’язок здійснюється через канали TCP за допомогою фреймів. Щоб дізнатися більше, перегляньте [протокол WebSocket](https://datatracker.ietf.org/doc/html/rfc6455).

### Джерело

Сервер відповідає за перевірку [`Початковий` заголовок](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin) в початковому рукостисканні HTTP WebSocket. Якщо сервер не перевіряє заголовок джерела під час початкового рукостискання WebSocket, сервер WebSocket може приймати підключення з будь-якого джерела. Це може дозволити зловмисникам обмінюватися даними з міждоменним сервером WebSocket, дозволяючи виникати проблеми, подібні до CSRF. Дивіться також [Top 10-2017 A5-Порушений контроль доступу](https://owasp.org/www-project-top-ten/2017/A5_2017-Broken_Access_Control).

### Конфіденційність і Цілісність

WebSockets можна використовувати через незашифрований TCP або через зашифрований TLS. Для використання незашифрованих WebSockets `ws://` використовується схема URI (за замовчуванням порт 80), для використання зашифрованих (TLS) WebSockets `wss://` використовується схема URI (за замовчуванням порт 443). Дивіться також [Top 10-2017 A3-Розкриття конфіденційних даних](https://owasp.org/www-project-top-ten/2017/A3_2017-Sensitive_Data_Exposure).

### Дезінфекція Входу

Як і будь-які дані, отримані з ненадійних джерел, дані мають бути належним чином оброблені та закодовані. Дивіться також [Top 10-2017 A1-Ін'єкція](https://owasp.org/www-project-top-ten/2017/A1_2017-Injection) і [Top 10-2017 A7-Міжсайтовий сценарій (XSS)](https://owasp.org/www-project-top-ten/2017/A7_2017-Cross-Site_Scripting_(XSS)).

